{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: '',\n};\n\nconst form_element = document.querySelector('.feedback-form');\nconst local_storage_data = localStorage.getItem('feedback-form-state');\nif (local_storage_data !== null) {\n  let local_storage_obj;\n  try {\n    local_storage_obj = JSON.parse(local_storage_data);\n  } catch (err) {\n    console.log(err);\n  }\n\n  form_element.email.value = local_storage_obj.email;\n  form_element.message.value = local_storage_obj.message;\n\n  formData.email = local_storage_obj.email;\n  formData.message = local_storage_obj.message;\n}\n\nform_element.addEventListener('input', inputHandler);\nform_element.addEventListener('submit', submitHandler);\n\nfunction inputHandler(event) {\n  if (event.target.nodeName === 'BUTTON') {\n    return;\n  }\n\n  if (\n    event.target.nodeName === 'INPUT' ||\n    event.target.nodeName === 'TEXTAREA'\n  ) {\n    formData.email = event.currentTarget.email.value.trim();\n    formData.message = event.currentTarget.message.value.trim();\n\n    const formDataJson = JSON.stringify(formData);\n    window.localStorage.setItem('feedback-form-state', formDataJson);\n  }\n}\n\nfunction submitHandler(event) {\n  event.preventDefault();\n  const form_data_values = Object.values(formData);\n  if (form_data_values.includes('')) {\n    window.alert('Fill please all fields!');\n    return;\n  }\n  console.log(formData);\n  localStorage.removeItem('feedback-form-state');\n  form_element.reset();\n  Object.keys(formData).forEach(key => (formData[key] = ''));\n}\n"],"names":["formData","form_element","local_storage_data","local_storage_obj","err","inputHandler","submitHandler","event","formDataJson","key"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAqB,aAAa,QAAQ,qBAAqB,EACrE,GAAIA,IAAuB,KAAM,CAC/B,IAAIC,EACJ,GAAI,CACFA,EAAoB,KAAK,MAAMD,CAAkB,CAClD,OAAQE,EAAK,CACZ,QAAQ,IAAIA,CAAG,CAChB,CAEDH,EAAa,MAAM,MAAQE,EAAkB,MAC7CF,EAAa,QAAQ,MAAQE,EAAkB,QAE/CH,EAAS,MAAQG,EAAkB,MACnCH,EAAS,QAAUG,EAAkB,OACvC,CAEAF,EAAa,iBAAiB,QAASI,CAAY,EACnDJ,EAAa,iBAAiB,SAAUK,CAAa,EAErD,SAASD,EAAaE,EAAO,CAC3B,GAAIA,EAAM,OAAO,WAAa,WAK5BA,EAAM,OAAO,WAAa,SAC1BA,EAAM,OAAO,WAAa,YAC1B,CACAP,EAAS,MAAQO,EAAM,cAAc,MAAM,MAAM,OACjDP,EAAS,QAAUO,EAAM,cAAc,QAAQ,MAAM,OAErD,MAAMC,EAAe,KAAK,UAAUR,CAAQ,EAC5C,OAAO,aAAa,QAAQ,sBAAuBQ,CAAY,CAChE,CACH,CAEA,SAASF,EAAcC,EAAO,CAG5B,GAFAA,EAAM,eAAc,EACK,OAAO,OAAOP,CAAQ,EAC1B,SAAS,EAAE,EAAG,CACjC,OAAO,MAAM,yBAAyB,EACtC,MACD,CACD,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAW,qBAAqB,EAC7CC,EAAa,MAAK,EAClB,OAAO,KAAKD,CAAQ,EAAE,QAAQS,GAAQT,EAASS,CAAG,EAAI,EAAG,CAC3D"}